@use "@angular/material" as mat;

/* TODO: not working, move to theme or don't use overrides. */
.mat-calendar {
	@include mat.datepicker-overrides(
		(
			calendar-date-text-color: var(--mat-sys-primary),
			calendar-date-selected-state-background-color: var(--mat-sys-background)
		)
	);

	.mat-calendar-body-cell {
		&:hover {
			filter: brightness(70%);
		}

		.mat-calendar-body-cell-content {
			top: 5%;
			left: 0.25rem;
			// Align text
			align-items: flex-end;
			padding-bottom: 0.5rem;
			// Align background
			border: 0;
			border-radius: 0.25rem;
			width: calc(100% - 0.25rem);
			height: 90%;

			&.mat-calendar-body-today {
				border: 1px solid;
			}

			&.mat-calendar-body-selected {
				background-image:
					linear-gradient(
						to bottom,
						var(--mat-datepicker-calendar-date-selected-state-background-color) 0%,
						var(--mat-datepicker-calendar-date-selected-state-background-color) 100%
					),
					linear-gradient(to bottom, currentcolor 0%, currentcolor 100%);
				background-clip: content-box, padding-box;
			}
		}

		&.chunk {
			&.pending {
				--mat-datepicker-calendar-date-hover-state-background-color: var(--mat-sys-primary-container);
				--mat-datepicker-calendar-date-selected-state-background-color: var(--mat-sys-primary-container);

				.mat-calendar-body-cell-content {
					background-color: var(--mat-sys-primary-container);
					color: var(--mat-sys-primary);
				}
			}

			&.invoiced {
				--mat-datepicker-calendar-date-hover-state-background-color: var(--mat-sys-tertiary-container);
				--mat-datepicker-calendar-date-selected-state-background-color: var(--mat-sys-tertiary-container);

				.mat-calendar-body-cell-content {
					background-color: var(--mat-sys-tertiary-container);
					color: var(--mat-sys-tertiary);
				}
			}

			&.paid, &.selected {
				--mat-datepicker-calendar-date-hover-state-background-color: var(--mat-sys-secondary-container);
				--mat-datepicker-calendar-date-selected-state-background-color: var(--mat-sys-secondary-container);

				.mat-calendar-body-cell-content {
					background-color: var(--mat-sys-secondary-container);
					color: var(--mat-sys-secondary);
				}
			}

			&::after {
				font-size: 2rem;
				padding-top: 0.75rem;
				margin: 0 0.25rem;
				width: calc(100% - 0.25rem);
				z-index: 10;
			}

			&.c1::after {
				content: "\2680";
			}

			&.c2::after {
				content: "\2681";
			}

			&.c3::after {
				content: "\2682";
			}

			&.c4::after {
				content: "\2683";
			}

			&.c5::after {
				content: "\2684";
			}

			&.c6::after {
				content: "\2685";
			}

			&.c7::after {
				content: "\2683\2682";
			}

			&.c8::after {
				content: "\2683\2683";
			}

			&.c9::after {
				content: "\2684\2683";
			}

			&.c10::after {
				content: "\2684\2684";
			}

			&.c11::after {
				content: "\2685\2684";
			}

			&.c12::after {
				content: "\2685\2685";
			}

			&.triple::after {
				font-size: 1.45rem;
			}

			&.c13::after {
				content: "\2684\2684\2682";
			}

			&.c14::after {
				content: "\2684\2684\2683";
			}

			&.c15::after {
				content: "\2684\2684\2684";
			}

			&.c16::after {
				content: "\2684\2684\2685";
			}

			&.c17::after {
				content: "\2685\2685\2684";
			}

			&.c18::after {
				content: "\2685\2685\2685";
			}
		}
	}
}
